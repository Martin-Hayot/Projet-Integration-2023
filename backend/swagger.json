{"openapi":"3.0.0","info":{"title":"G-SONDE API","description":"G-SONDE API Information","servers":["http://localhost:3001"]},"paths":{"/api/aquarium":{"post":{"tags":["aquarium"],"summary":"Creates a new aquarium","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["name"],"properties":{"name":{"type":"string"}}}}}},"responses":{"201":{"description":"Aquarium created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Aquarium created successfully"}}}}}},"400":{"description":"All entries are required"},"500":{"description":"Internal server error"}}},"get":{"tags":["aquarium"],"summary":"Fetches all aquariums for the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Returns a list of aquariums","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"}}}}}}},"400":{"description":"Error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/aquarium/diagnostic":{"post":{"tags":["aquarium"],"summary":"Creates a new diagnostic for an aquarium","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["aquariumId","date"],"properties":{"aquariumId":{"type":"string"},"date":{"type":"string","format":"date"}}}}}},"responses":{"201":{"description":"Diagnostic created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Diagnostic created successfully"}}}}}},"400":{"description":"All entries are required"},"500":{"description":"Internal server error"}}}},"/api/aquarium/{aquariumId}/diagnostic/":{"get":{"tags":["aquarium"],"summary":"Fetches all diagnostics for a specific aquarium","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"aquariumId","schema":{"type":"string"},"required":true,"description":"The ID of the aquarium"}],"responses":{"200":{"description":"Returns a list of diagnostics for the aquarium","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"aquariumId":{"type":"string"}}}}}}},"400":{"description":"Error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/aquarium/diagnostic/data/":{"post":{"tags":["aquarium"],"summary":"Creates a new data entry for a diagnostic","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["diagnosticId","measure","frequency"],"properties":{"diagnosticId":{"type":"string"},"measure":{"type":"string"},"frequency":{"type":"string"}}}}}},"responses":{"201":{"description":"Data created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Data created successfully"}}}}}},"400":{"description":"All entries are required"},"500":{"description":"Internal server error"}}}},"/api/aquarium/{aquariumId}/diagnostic/{diagnosticId}/data":{"get":{"tags":["aquarium"],"summary":"Fetches all data for a specific diagnostic of an aquarium","security":[{"bearerAuth":[]}],"parameters":[{"in":"path","name":"aquariumId","schema":{"type":"string"},"required":true,"description":"The ID of the aquarium"},{"in":"path","name":"diagnosticId","schema":{"type":"string"},"required":true,"description":"The ID of the diagnostic"}],"responses":{"200":{"description":"Returns a list of data for the diagnostic","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"diagnosticId":{"type":"string"}}}}}}},"400":{"description":"Error occurred","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/auth/signup":{"post":{"tags":["auth"],"summary":"Create a new user","parameters":[{"in":"query","name":"firstname","schema":{"type":"string","default":"john"}},{"in":"query","name":"lastname","schema":{"type":"string","default":"doe"}},{"in":"query","name":"email","schema":{"type":"string","default":"johndoe@example.com"}},{"in":"query","name":"password","schema":{"type":"string","default":"password"}},{"in":"query","name":"ability","schema":{"type":"number","default":0}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"firstname":{"type":"string","default":"john"},"lastname":{"type":"string","default":"doe"},"email":{"type":"string","default":"johndoe@example.com"},"password":{"type":"string","default":"password"},"ability":{"type":"number","default":0}},"required":["email","password","firstname","lastname"]}}}},"responses":{"201":{"description":"User created successfully"},"400":{"description":"All entries are required"},"409":{"description":"User already exists"},"500":{"description":"Internal server error"}}}},"/api/auth/login":{"post":{"tags":["auth"],"summary":"Login a user","parameters":[{"in":"body","name":"user","description":"The user to create.","schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","default":"johndoe@example.com"},"password":{"type":"string","default":"password"}}}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","default":"johndoe@example.com"},"password":{"type":"string","default":"password"}}}}}},"responses":{"200":{"description":"Logged in successfully"},"400":{"description":"Email and password are required"},"401":{"description":"Invalid credentials"},"500":{"description":"Internal server error"}}}},"/api/auth/google":{"get":{"tags":["auth"],"summary":"Redirects to Google's OAuth 2.0 endpoint","responses":{"200":{"description":"Returns the Google OAuth 2.0 endpoint URL","content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string","description":"The Google OAuth 2.0 endpoint URL"}}}}}}}}},"/api/auth/google/callback":{"get":{"tags":["auth"],"summary":"Handles the callback from Google's OAuth 2.0 endpoint","parameters":[{"in":"query","name":"code","schema":{"type":"string"},"required":true,"description":"The authorization code returned from Google's OAuth 2.0 endpoint"}],"responses":{"200":{"description":"User logged in successfully and redirected to home page"},"403":{"description":"Failed to get Google user or email not verified, redirected to login page"},"409":{"description":"User already exists, redirected to login page"}}}},"/api/auth/me":{"get":{"tags":["auth"],"summary":"Returns the authenticated user's information","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User is authenticated","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Authenticated"},"authenticated":{"type":"boolean","example":true}}}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User not found"},"authenticated":{"type":"boolean","example":false}}}}}}}}},"/api/auth/logout":{"delete":{"tags":["auth"],"summary":"Logout a user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Logged out successfully"},"401":{"description":"Unauthorized"}}}},"/category":{"post":{"tags":["category"],"summary":"Creates a new category","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"label":{"type":"string"}}}}}},"responses":{"201":{"description":"Category created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Category created successfully"},"category":{"type":"object"}}}}}},"400":{"description":"Bad Request - Label Required","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Bad Request - Label Required"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}},"get":{"tags":["category"],"summary":"Fetches all categories","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Categories sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Categories sent"},"categories":{"type":"array","items":{"type":"object"}}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/category/search/{label}":{"get":{"tags":["category"],"summary":"Searches categories by label","security":[{"bearerAuth":[]}],"parameters":[{"name":"label","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Categories sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Categories sent"},"categories":{"type":"array","items":{"type":"object"}}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/category/{id}":{"get":{"tags":["category"],"summary":"Fetches a category by ID","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Category sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Category sent successfully"},"category":{"type":"object"}}}}}},"404":{"description":"Not Found - Category ID","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}},"delete":{"tags":["category"],"summary":"Deletes a category by ID","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Category deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Category deleted successfully"},"category":{"type":"object"}}}}}},"404":{"description":"Not Found - Category ID","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/ticket":{"post":{"tags":["ticket"],"summary":"Creates a new ticket","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["message"],"properties":{"message":{"type":"string"},"categoryId":{"type":"string"}}}}}},"responses":{"201":{"description":"Ticket created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Ticket created successfully"},"ticket":{"type":"object"}}}}}},"400":{"description":"Bad Request - Message is required","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"401":{"description":"Unauthorized - You have reached the maximum number of tickets","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"Not Found - Category","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}},"get":{"tags":["ticket"],"summary":"Fetches all non-archived tickets","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Tickets sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Tickets sent successfully"},"tickets":{"type":"array","items":{"type":"object"}}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/ticket/archive/{id}":{"post":{"tags":["ticket"],"summary":"Archives a ticket by ID","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Ticket updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Ticket updated successfully"},"ticket":{"type":"object"}}}}}},"404":{"description":"Not Found - Ticket ID","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/ticket/archived/":{"get":{"tags":["ticket"],"summary":"Fetches all archived tickets","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Tickets sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Tickets sent successfully"},"tickets":{"type":"array","items":{"type":"object"}}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/ticket/user/":{"get":{"tags":["ticket"],"summary":"Fetches all non-archived tickets for the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Tickets sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Tickets sent successfully"},"tickets":{"type":"array","items":{"type":"object"}}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/ticket/{id}":{"get":{"tags":["ticket"],"summary":"Fetches a ticket by ID","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Ticket sent successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Ticket sent successfully"},"ticket":{"type":"object"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}},"delete":{"tags":["ticket"],"summary":"Deletes a ticket by ID","security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Ticket deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Ticket deleted successfully"},"ticket":{"type":"object"}}}}}},"404":{"description":"Not Found - Ticket ID","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/user/profile":{"get":{"tags":["user"],"summary":"Fetches the profile of the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Returns the user's profile","content":{"application/json":{"schema":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"}}}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User not found!"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}},"patch":{"tags":["user"],"summary":"Updates the profile of the authenticated user","security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["firstname","lastname","email","password"],"properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User updated successfully!"}}}}}},"400":{"description":"All entries are required or new password cannot be the same as old password","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User not found!"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}},"/user/profile/picture":{"get":{"tags":["user"],"summary":"Fetches the profile picture of the authenticated user","security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Returns the user's profile picture","content":{"application/json":{"schema":{"type":"object","properties":{"profilePicture":{"type":"string"}}}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User not found!"}}}}}},"500":{"description":"Something went wrong","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}}}}}}}}}},"components":{},"tags":[]}